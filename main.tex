%% Para elegir si hacer el informe de imagenes o no
\newif\ifimagenes
%% Este, a su vez, es para ver si es el paper o no
\newif\ifimagenespaper
%% Este porque no se si agregar tanto de SLAM.
\newif\ifslamext
% \imagenestrue % comment out to hide imagenes
% \imagenespapertrue
% \slamexttrue

\ifimagenes
    \ifimagenespaper
        \documentclass[conference]{IEEEtran}
        \IEEEoverridecommandlockouts
    \else
        \documentclass[a4paper,10pt]{article}
    \fi
\else
    \documentclass[a4paper,10pt]{article}
\fi

\usepackage{subfig} % en lugar de subcaption
% Paquetes
% \usepackage{fontspec}
\usepackage{titlesec}
\usepackage{titling}
\usepackage{setspace}
\usepackage[hidelinks]{hyperref}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{float}
\usepackage{xcolor}
\usepackage[affil-it]{authblk}
% \usepackage{biblatex}
% \addbibresource{Mendeley.bib}

% Para tablas
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{rotating}

% Idioma
\usepackage[spanish,es-tabla]{babel}
\usepackage[utf8]{inputenc}
% \setlength{\parskip}{1em}
% Configuraciones
% \setmainfont{Times New Roman}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

\usepackage{mathrsfs}
\usepackage{amsmath,amssymb}
\usepackage{bm}
% \setlength{\parskip}{1em}
\numberwithin{equation}{section}

\usepackage{accents}
\newcommand\undervec[1]{\underaccent{\vec}{#1}}

% Para minipage
\usepackage{sidecap}

\ifimagenes
    \ifimagenespaper
    \else
        % Para que paragraph sea subsubsub
        \setcounter{secnumdepth}{4}
        \titleformat{\paragraph}
        {\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
        \titlespacing*{\paragraph}
        {0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
    \fi
\fi

% Para poner codigo
\usepackage{listings}
\usepackage{xcolor}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}
\renewcommand{\lstlistingname}{Código} % Para que aparezca en español

% Para que no tire overflow hbox porque el texttt no corta
% \usepackage{microtype}

% Para meter PDFs
\usepackage{pdfpages}


% Para comentar codigo
\usepackage{comment}

% Para bibliografia
\usepackage[nottoc]{tocbibind}

% Para los grados ° con \textdegree
\usepackage{textcomp}

% Para hacer estructura de carpetas
\usepackage{forest}

\definecolor{fblue}{RGB}{92,144,192}
\definecolor{fgreen}{RGB}{34,162,70}

\newcommand\myfolder[2][fgreen]{%
\begin{tikzpicture}[overlay]
  \draw[fill=#1!82!black] 
    (-20pt,14pt) -- 
    (-17pt,17pt) --
    (-1pt,17pt) --
    (1pt,19pt) --
    (12pt,19pt) --
    (14pt,17pt) --
    (17pt,17pt) --
    (20pt,14pt) -- cycle;
  \draw[line width=0.75pt,white] 
    (-18.5pt,14pt) -- 
    (-15.5pt,16.5pt) --
    (0.5pt,16.5pt) --
    (2pt,18.3pt) --
    (10.5pt,18.3pt) --
    (12.5pt,16.5pt) --
    (15.5pt,16.5pt) --
    (18.5pt,14pt) -- cycle;
  \draw[rounded corners,top color=#1,bottom color=#1!30] 
    (-23pt,14pt) -- 
    (23pt,14pt) --
    (21pt,-14pt) --
    (-21pt,-14pt) -- cycle;
  \draw[rounded corners,line width=1pt,white] 
    (-22pt,13pt) -- 
    (22pt,13pt) --
    (20pt,-13pt) --
    (-20pt,-13pt) -- cycle;
\end{tikzpicture}%
\makebox[0pt]{\raisebox{-3pt}{{\ttfamily\small #2}}}%
}

% Para plotear con tikz en 3d
\usepackage{tikz-3dplot}

\begin{document}

\ifimagenespaper
\else
    \begin{titlepage}
\fi
\ifimagenes
    \ifimagenespaper
        \title{SLAM 3D basado en una cámara RGB-D y PCL}
        
        \author{{Francisco Domínguez}\\
        {\textit{Universidad Tecnológica Nacional}\\
        Buenos Aires, Argentina \\
        fdominguez@est.frba.utn.edu.ar}
        }
        \date{}
        \maketitle
        
        
        \input{abstract}
        \input{Introduccion}
        \input{Reconstruccion3D}
        \input{Resolucion}
        \input{Conclusiones}
        \bibliographystyle{unsrt}
        \bibliography{thebibliography}
    \else
        \centering
        \begin{figure}[t]
        	\centering
        	\includegraphics[scale=0.15]{utn.jpg}
            \vspace{0.5cm}
        \end{figure}%
    \fi
\fi

\ifimagenes
	{\LARGE Procesamiento digital de imágenes\par}
    {\LARGE 2020\par}
	\vspace{1cm}
	{\huge\bfseries SLAM 3D basado en cámara RGB-D y PCL\par}
\else
	{\LARGE Proyecto Final\par}
    {\LARGE 2020\par}
	\vspace{1cm}
	{\huge\bfseries Robots con detección de entorno\par}
	\vspace{1cm}
    {\LARGE Trabajo final de carrera\par}
\fi
    \vspace{1cm}
	{\Large\itshape Domínguez, Francisco\par}
	\vfill
\end{titlepage}

\tableofcontents

\newpage
\listoffigures
\ifimagenes
\else
    \newpage
    \listoftables
    \newpage
    \input{objeto.tex}
\fi

\newpage
\input{abstract.tex}

\newpage
\input{Introduccion.tex}

\newpage
\input{ROS}

\ifimagenes
\else
    \newpage
    \input{Geometria}
    \newpage
    \input{Regresion}
    % LO PONGO O NO LO PONGO?!?!?!??!?!
% \ifslamext
    \newpage
    \input{EstimacionEstado}
% \fi
    \newpage
    \input{Sensores}
\fi

\ifimagenes
\else
    \newpage
    \input{SLAM.tex}
\fi
\newpage
\input{Reconstruccion3D}


\ifimagenes
\else
    \newpage
    \input{Plataformas.tex}
\fi

\newpage
\input{Resolucion}

\newpage
\input{Conclusiones}

\newpage
\input{TrabajosFuturos}

\newpage
% \input{Bibliografia}
\bibliographystyle{unsrt}
\bibliography{thebibliography}

\ifimagenes
% \input{Sensores}
\else
    \newpage
    \input{Apendice}
\fi

\end{document}